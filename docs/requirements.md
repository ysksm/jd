# jira-db 要件定義

## 概要

JIRAのデータをローカルにデータベースとして同期し、検索可能にするツール。

## 技術スタック

- **データベース**: DuckDB

## 機能要件

### 1. 初期設定

初回起動時に`settings.json`が自動生成され、以下の情報を設定する：
- JIRAエンドポイント
- ユーザー名
- APIキー

### 2. プロジェクト管理

#### プロジェクト一覧の取得
- 設定完了後の起動時にJIRAからプロジェクト一覧を取得
- 取得したプロジェクト一覧を設定ファイルに保存

#### 同期設定
- プロジェクトごとに同期フラグを設定可能
- デフォルト: 同期しない（`false`）
- ユーザーが明示的に同期を有効化する必要がある

### 3. データ同期

#### 同期の実行
- 同期フラグが有効なプロジェクトについて、起動時にJIRAデータをローカルに保存
- データはプロジェクト単位で管理
- 新規プロジェクトを追加した場合は、再起動により自動的に同期対象に含まれる

#### データ保存形式
- **RAWデータ**: JIRAから取得したデータをそのまま保存
- **ストレージ**: DuckDBのテーブルとして保存
- **検索インデックス**: 起動時に自動生成

## ワークフロー

1. 初回起動 → `settings.json`生成
2. 設定情報入力（エンドポイント、ユーザー名、APIキー）
3. 再起動 → プロジェクト一覧取得・保存
4. 同期したいプロジェクトの同期フラグを有効化
5. 再起動 → データ同期開始
6. 検索インデックス自動生成
7. データ利用可能
