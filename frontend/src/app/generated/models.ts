// Generated by @jira-db/emit-angular - DO NOT EDIT

/** JiraDb API Definition

Design principles:
- All operations use POST method (RPC-style)
- Parameters are passed in request body
- Consistent with Tauri command invocation pattern */
export interface Project {
  id: string;
  key: string;
  name: string;
  description?: string;
  enabled: boolean;
  lastSyncedAt?: string;
}

export interface Issue {
  id: string;
  key: string;
  projectKey: string;
  summary: string;
  description?: string;
  status: string;
  priority: string;
  issueType: string;
  assignee?: string;
  reporter?: string;
  parentKey?: string;
  labels: string[];
  components: string[];
  fixVersions: string[];
  team?: string;
  dueDate?: string;
  createdAt: string;
  updatedAt: string;
}

export interface ChangeHistoryItem {
  id: string;
  issueKey: string;
  author: string;
  field: string;
  fieldType: string;
  fromValue?: string;
  fromString?: string;
  toValue?: string;
  toString?: string;
  changedAt: string;
}

export interface Status {
  name: string;
  description?: string;
  category: string;
}

export interface Priority {
  name: string;
  description?: string;
  iconUrl?: string;
}

export interface IssueType {
  name: string;
  description?: string;
  iconUrl?: string;
  subtask: boolean;
}

export interface Label {
  name: string;
}

export interface Component {
  name: string;
  description?: string;
  lead?: string;
}

export interface FixVersion {
  name: string;
  description?: string;
  released: boolean;
  releaseDate?: string;
}

export interface ProjectMetadata {
  projectKey: string;
  statuses: Status[];
  priorities: Priority[];
  issueTypes: IssueType[];
  labels: Label[];
  components: Component[];
  fixVersions: FixVersion[];
}

export interface SyncResult {
  projectKey: string;
  issueCount: number;
  metadataUpdated: boolean;
  duration: number;
  success: boolean;
  error?: string;
}

export interface SyncProgress {
  projectKey: string;
  phase: string;
  current: number;
  total: number;
  message: string;
}

export interface EmbeddingStats {
  totalIssues: number;
  processedIssues: number;
  duration: number;
}

export interface SemanticSearchResult {
  issue: Issue;
  score: number;
}

export interface ReportResult {
  outputPath: string;
  issueCount: number;
}

export interface SavedQuery {
  id: string;
  name: string;
  query: string;
  description?: string;
  createdAt: string;
  updatedAt: string;
}

export interface SqlColumn {
  name: string;
  dataType: string;
  isNullable: boolean;
}

export interface SqlTable {
  name: string;
  columns?: SqlColumn[];
}

export interface JiraConfig {
  endpoint: string;
  username: string;
  apiKey: string;
}

/** JIRA endpoint configuration (for multiple endpoints) */
export interface JiraEndpoint {
  name: string;
  displayName?: string;
  endpoint: string;
  username: string;
  apiKey: string;
}

export interface DatabaseConfig {
  path: string;
}

export interface EmbeddingsConfig {
  provider: string;
  modelName?: string;
  endpoint?: string;
  autoGenerate: boolean;
}

export interface LogConfig {
  fileEnabled: boolean;
  fileDir?: string;
  level: string;
  maxFiles: number;
}

export interface Settings {
  jira: JiraConfig;
  database: DatabaseConfig;
  projects: ProjectConfig[];
  embeddings?: EmbeddingsConfig;
  log?: LogConfig;
  /** Multiple JIRA endpoints (new) */
  jiraEndpoints?: JiraEndpoint[];
  /** Active endpoint name (new) */
  activeEndpoint?: string;
}

export interface ProjectConfig {
  key: string;
  enabled: boolean;
}

export interface ConfigGetRequest {
}

export interface ConfigGetResponse {
  settings: Settings;
}

export interface ConfigUpdateRequest {
  jira?: JiraConfig;
  database?: DatabaseConfig;
  embeddings?: EmbeddingsConfig;
  log?: LogConfig;
  /** Add a new endpoint */
  addEndpoint?: JiraEndpoint;
  /** Remove an endpoint by name */
  removeEndpoint?: string;
  /** Set active endpoint */
  setActiveEndpoint?: string;
}

export interface ConfigUpdateResponse {
  success: boolean;
  settings: Settings;
}

export interface ConfigInitRequest {
  endpoint: string;
  username: string;
  apiKey: string;
  databasePath?: string;
}

export interface ConfigInitResponse {
  success: boolean;
  settings: Settings;
}

export interface ProjectListRequest {
}

export interface ProjectListResponse {
  projects: Project[];
}

export interface ProjectInitRequest {
  /** Specific endpoint name to fetch from. If not provided, uses active endpoint. */
  endpointName?: string;
  /** If true, fetch from all configured endpoints */
  allEndpoints?: boolean;
}

export interface ProjectInitResponse {
  projects: Project[];
  newCount: number;
  /** Results per endpoint when fetching from multiple endpoints */
  endpointResults?: EndpointFetchResult[];
}

export interface EndpointFetchResult {
  endpointName: string;
  projectCount: number;
  success: boolean;
  error?: string;
}

export interface ProjectEnableRequest {
  key: string;
}

export interface ProjectEnableResponse {
  project: Project;
}

export interface ProjectDisableRequest {
  key: string;
}

export interface ProjectDisableResponse {
  project: Project;
}

export interface SyncExecuteRequest {
  projectKey?: string;
}

export interface SyncExecuteResponse {
  results: SyncResult[];
}

export interface SyncStatusRequest {
}

export interface SyncStatusResponse {
  inProgress: boolean;
  progress?: SyncProgress;
}

export interface IssueSearchRequest {
  query?: string;
  project?: string;
  status?: string;
  assignee?: string;
  priority?: string;
  issueType?: string;
  team?: string;
  limit?: number;
  offset?: number;
}

export interface IssueSearchResponse {
  issues: Issue[];
  total: number;
}

export interface IssueGetRequest {
  key: string;
}

export interface IssueGetResponse {
  issue: Issue;
}

export interface IssueHistoryRequest {
  key: string;
  field?: string;
  limit?: number;
}

export interface IssueHistoryResponse {
  history: ChangeHistoryItem[];
}

export interface MetadataGetRequest {
  projectKey: string;
  type?: string;
}

export interface MetadataGetResponse {
  metadata: ProjectMetadata;
}

export interface EmbeddingsGenerateRequest {
  projectKey?: string;
  force?: boolean;
  batchSize?: number;
  provider?: string;
}

export interface EmbeddingsGenerateResponse {
  stats: EmbeddingStats;
}

export interface SemanticSearchRequest {
  query: string;
  projectKey?: string;
  limit?: number;
}

export interface SemanticSearchResponse {
  results: SemanticSearchResult[];
}

export interface ReportGenerateRequest {
  interactive?: boolean;
  outputPath?: string;
  projectKey?: string;
}

export interface ReportGenerateResponse {
  result: ReportResult;
}

export interface SqlExecuteRequest {
  projectKey?: string;
  query: string;
  limit?: number;
}

export interface SqlExecuteResponse {
  columns: string[];
  rows: unknown[];
  rowCount: number;
  executionTimeMs: number;
}

export interface SqlGetSchemaRequest {
  projectKey?: string;
  table?: string;
}

export interface SqlGetSchemaResponse {
  tables: SqlTable[];
}

export interface SqlQueryListRequest {
}

export interface SqlQueryListResponse {
  queries: SavedQuery[];
}

export interface SqlQuerySaveRequest {
  id?: string;
  name: string;
  query: string;
  description?: string;
}

export interface SqlQuerySaveResponse {
  query: SavedQuery;
}

export interface SqlQueryDeleteRequest {
  id: string;
}

export interface SqlQueryDeleteResponse {
  success: boolean;
}

export interface CreatedIssue {
  key: string;
  id: string;
  selfUrl: string;
}

export interface Transition {
  id: string;
  name: string;
  toStatus: string;
}

export interface BulkTransitionResult {
  issueKey: string;
  success: boolean;
  error?: string;
}

export interface IssueTypeInfo {
  name: string;
  description?: string;
  iconUrl?: string;
  subtask: boolean;
}

export interface DebugStatusRequest {
}

export interface DebugStatusResponse {
  enabled: boolean;
  message: string;
}

export interface DebugGetIssueTypesRequest {
  project: string;
}

export interface DebugGetIssueTypesResponse {
  issueTypes: IssueTypeInfo[];
}

export interface DebugCreateIssuesRequest {
  project: string;
  count?: number;
  issueType?: string;
  summary?: string;
  description?: string;
}

export interface DebugCreateIssuesResponse {
  success: boolean;
  created: CreatedIssue[];
  error?: string;
}

export interface DebugListTransitionsRequest {
  issueKey: string;
}

export interface DebugListTransitionsResponse {
  transitions: Transition[];
}

export interface DebugTransitionIssueRequest {
  issueKey: string;
  transitionId: string;
}

export interface DebugTransitionIssueResponse {
  success: boolean;
  error?: string;
}

export interface DebugBulkTransitionRequest {
  issues: string[];
  transitionId: string;
}

export interface DebugBulkTransitionResponse {
  results: BulkTransitionResult[];
  successCount: number;
  failureCount: number;
}

// AI Test Data Generation Types
export interface GeneratedIssue {
  issueType: string;
  summary: string;
  description: string;
  priority: string;
  labels: string[];
  storyPoints?: number;
  parentKey?: string;
  createdDayOffset: number;
  startedDayOffset?: number;
  completedDayOffset?: number;
  assignee?: string;
}

export interface SprintScenario {
  sprintName: string;
  durationDays: number;
  teamMembers: string[];
  issues: GeneratedIssue[];
}

export interface AiCreatedIssueInfo {
  key: string;
  id: string;
  issueType: string;
  summary: string;
  status: string;
  selfUrl?: string;
}

export interface AiFailedIssueInfo {
  issueType: string;
  summary: string;
  error: string;
}

export interface AiGenerationStats {
  totalGenerated: number;
  successfullyCreated: number;
  failedToCreate: number;
  epicsCreated: number;
  storiesCreated: number;
  tasksCreated: number;
  bugsCreated: number;
  transitionsApplied: number;
  linksCreated: number;
  dueDatesSet: number;
}

export interface DebugAiStatusRequest {}

export interface DebugAiStatusResponse {
  configured: boolean;
  message: string;
  cliAvailable?: boolean;
  apiKeyConfigured?: boolean;
}

export interface DebugAiGenerateRequest {
  project: string;
  mode: string;
  projectContext?: string;
  teamSize?: number;
  sprintDurationDays?: number;
  applyTransitions?: boolean;
  epicTheme?: string;
  bugCount?: number;
  useFastModel?: boolean;
  useClaudeCli?: boolean;
  /** Language for generated content (e.g., "ja" for Japanese, "en" for English) */
  language?: string;
}

export interface DebugAiGenerateResponse {
  success: boolean;
  scenario?: SprintScenario;
  createdIssues: AiCreatedIssueInfo[];
  failedIssues: AiFailedIssueInfo[];
  stats: AiGenerationStats;
  error?: string;
}

